.tutorial
  .ti.base
    .desc
      = @tutorial.desc

    .author
      .tt 作者
      .authorinfo
        .avatar= avatar User.new
        .name 宋亮


    .relations
      .tt 前置教程
      - if @parents.present?
        - (@parents * 2).each do |t|
          :ruby
            percent = rand(100)
          .relation
            .img= fit_image t.img, :width => '100%', :height => '100%'
            %span.t
              %span= t.title
            .prog
              = progress_circle percent

      - else
        .blank 没有前置教程

    .relations
      .tt 后续教程
      - if @children.present?
        - @children.each do |t|
          .relation
            .img= fit_image t.img, :width => '100%', :height => '100%'
            %span.t
              %span= t.title
      - else
        .blank 没有后续教程

    
  .info
    .desc= @tutorial.desc
    .points
      .t 相关知识点：
      :ruby
        points = @tutorial.related
        points = points.map {|name|
          @net.points.select {|x| x.name == name}.first
        }
      .plist
        = render_cell 'explore/point', :list, points, self

    .enter
      %a{:href => "/explore/tutorials/#{@tutorial.id}/flow"}
        %i.fa.fa-arrow-right
        %span 开始学习