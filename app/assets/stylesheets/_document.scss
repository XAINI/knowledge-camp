@import "ueditor/mixin";

$paper-color: #ffffdc;
// $paper-color: #fff;

@mixin bg-line {
  // background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAoAAAAAcCAIAAAB%2BlJllAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAIFJREFUeNrs1TERACAMADHgOuBfF0LYK6C46DEkEn75WXUGANBrSQAABgwABgwAGDAAGDAAYMAAYMAAgAEDgAEDAAYMAAYMAAYMABgwABgwAGDAAGDAAIABA4ABAwAGDAAGDAAGDAAYMAAYMABgwABgwACAAQPAp%2BLmVgEAmj0BBgAi8gTnyYfT8wAAAABJRU5ErkJggg%3D%3D);
  background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAoAAAAAcCAMAAADGKP4AAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAZQTFRF4+Pj////nrelKAAAAAJ0Uk5T/wDltzBKAAAAT0lEQVR42uzSQREAAAzCMObf9GTAI5HQaw6KIgEGxIBgQAwIBsSAYEAMCAbEgGBADAgGxIBgQAwIBsSAYEAMCAbEgGBADAgGZHdAaHoBBgCIeUOBaheL4QAAAABJRU5ErkJggg==);
}

.page-manage-documents-new,
.page-manage-documents-show,
.page-manage-documents-edit,
.page-manage-document-versions-version {
  .document {
    padding:30px;

    .page {
      min-height: 786px;
      padding-left: 31px;
      padding-right: 30px;
      position: relative;
      background-color: $paper-color;
      border:solid 1px #e5e5e5;

      &:before {
        content: "";
        position: absolute;
        top:0;bottom:0;
        left:30px;width:1px;
        background-color: #FCE3B0;
      }

      .title {
        font-size: 20px;
        font-weight: bold;
        padding-top: 30px;
        padding-bottom: 30px;
        padding-left: 15px;
        line-height: 30px;

        &.diff {@include html-diff-mark;}
      }
      .content {
        min-height: 22px * 32 - 1px;
        @include bg-line;
        background-size:600px 22px;
        background-repeat: repeat-y;

        line-height: 22px;
        padding-left: 15px;

        @include document-style;
      }

      .title-editor {
        @extend .title;

        input {
          height:30px;line-height:30px;
          border:0 none;
          padding:0;
          background: transparent;
          display: block;
          width:100%;

          &:focus {
            outline: 0;
            background-color:rgba(black, 0.03);
          }

          &::-webkit-input-placeholder {
            color: #D8CD74
          }
           
          &::-moz-placeholder {
            color: #D8CD74;
          }
        }
      }
      .content-editor {
        min-height: 660px - 1px;
        margin-right: -30px;
      }
    }

    .side {
      background-color: lighten($area-info, 35%);
      padding:20px;
      border-radius:$border-radius-default;
      margin-bottom: 20px;

      .info {
        margin-bottom: 20px;
      }

      .diffdesc {
        margin-bottom: 20px;
        @include html-diff-mark;
      }

      .ops {
        a.btn {
          display: block;
          margin-bottom: 20px;
        }
        a.btn:last-child {
          margin-bottom: 0;
        }
      }
    }

    .side.versions {
      .last-version {
        margin-bottom: 1em;
      }
      .current-version {
        margin-bottom: 1em;
        display: none;
      }
      .count {
        margin-bottom: 1em;
        display: none;
      }
      .versions-list {
        .title {
          margin-bottom: 0.5em;
          padding-bottom: 0.5em;
          border:0 none;
          border-bottom: dashed 1px rgba(black, 0.3);
          color:rgba(black, 0.6);
        }

        .ver {
          .name {
            margin-right: 5px;
          }
        }

        .ver.current {
          position: relative;
          &:before {
            content:"";
            position: absolute;
            width:6px;height:6px;
            background-color:$area-hot;
            border-radius:10px;
            top:7px;
            left:-12px;
          }
        }
      }
    }

    .side.versions .cell-document-version-info .ver.current {
      &:before {
        display:none;
      }
    }
  }
}

.page-manage-documents-index {
  .documents {
    padding:20px 30px;
    .header {
      @include section_header_with_button;
    }
  }
}

.cell-manage-documents.grid {
  $gap: 20px;

  margin-bottom: 20px;
  @include clearfix;
  margin-left: $gap / -2;
  margin-right: $gap / -2;

  .document {
    @include col(1/3, $gap: $gap);
    margin-bottom: 30px;

    .box {
      display: block;
      color: #333;
      &:hover {text-decoration: none;}

      margin-bottom: 5px;
      background-color:$paper-color;
      border:solid 1px $black-10;
      box-shadow:0 1px 1px rgba(black, 0.1);
      position: relative;

      > a.link {
        position: absolute;
        top:0;bottom:0;
        left:0;right:0;

        &:after {
          content: "";
          position: absolute;
          left:0;right:0;bottom:0;
          height:20px;
          border-bottom:solid 10px $paper-color;
          @include bg-linear-gradient(rgba(#FFFFDC, 0), $paper-color);
        }
      }

      > .page{
        margin:0 20px;
        border-left:solid 1px #FCE3B0;
        height:360px - 1px;
        overflow: hidden;

        .title {
          font-size: 14px;
          font-weight: bold;
          padding-top: 20px;
          padding-bottom: 16px;
          padding-left: 10px;
        }

        .content {
          height:350px;
          padding-left: 10px;
          font-size: 12px;
          line-height: 16px;

          @include bg-line;
          background-size:320px 16px;
          background-repeat: repeat-y;

          pointer-events: none;

          @include document-style-small;
        }
      }
    }

    .info {
      line-height: 20px;
      .creator-info {
        font-size: 13px;
        color: $text-quiet;
        text-align: center;
      }
      .version-info {
        font-size: 13px;
        color: $text-quiet;
        text-align: center;
      }
    }
  }
}

// -----------------

.edui-mindpin .edui-editor-iframeholder {
  overflow: visible !important;
}

.edui-mindpin .edui-editor-iframeholder
.CodeMirror.CodeMirror-wrap {
  top: -15px !important;
  bottom: 0 !important;
  height: auto !important;
}
.CodeMirror-lines {
  background-color: #FFF;
}